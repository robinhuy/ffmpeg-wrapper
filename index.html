<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Convert video H264</title>
</head>
<body>
<div id="app"></div>

<script>
  const {spawn, exec} = require('child_process');
  const path = require('path');
  const ffmpeg = '"' + path.join(__dirname, 'lib/ffmpeg') + '"';

  window.$ = window.jQuery = require('jquery')

  document.addEventListener('DOMContentLoaded', function () {
    // Check FFMPEG was installed
    exec(ffmpeg + ' -version', (err, stdout, stderr) => {
      if (err || stderr) {
        console.log(err)
        console.log(stderr)
        alert('Please install FFMPEG first!');
      }
    })

    // Request enable Desktop Notification
    if (Notification && Notification.permission !== 'granted') {
      Notification.requestPermission();
    }
  });

  function notifyDesktop(message) {
    if (Notification && Notification.permission === 'granted') {
      // Open Notification
      let notification = new Notification('Finish', {
        icon: 'http://cdn.sstatic.net/stackexchange/img/logos/so/so-icon.png',
        body: message,
      });

      // Onclick to Notification
      notification.onclick = function () {
        // todo:Open app window
      };
    }
  }
</script>

<script src="dist/build.js"></script>

</body>
</html>
